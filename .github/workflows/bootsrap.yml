name: Bootstrap Repo

on:
  workflow_dispatch:

jobs:
  bootstrap:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Create folder structure
        run: |
          mkdir -p workflows config scripts datasets error-logs evaluations docs

      - name: Create files
        run: |
          touch README.md .gitignore
          touch workflows/orchestrator.json
          touch workflows/ingestion.json
          touch workflows/enrichment.json
          touch workflows/monitor.json
          touch workflows/rag_classic.json
          touch workflows/rag_tabular.json
          touch workflows/rag_graph.json
          touch config/env.yaml
          touch config/postgres.sql
          touch scripts/download_datasets.sh
          touch evaluations/evaluation_framework.py
          touch error-logs/agent1-error.txt
          touch error-logs/agent2-error.txt
          touch error-logs/agent3-error.txt
          touch error-logs/agent4-suggestions.txt

      - name: Commit files
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add .
          git commit -m "Bootstrap structure via GitHub Actions" || echo "No changes to commit"
          git push
